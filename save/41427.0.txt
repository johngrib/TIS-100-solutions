@0


@1
MOV UP, DOWN

@2


@3


@4


@5
^:
 MOV UP, ACC
 MOV ACC, DOWN
 MOV ACC, RIGHT
 JNZ REPEAT
 JMP ^

REPEAT:
 MOV ACC, DOWN
 MOV ACC, RIGHT
 MOV ACC, DOWN
 MOV ACC, RIGHT

@6
^: MOV 0, ACC
 SAV
IN: MOV LEFT, ACC
 JEZ OUT
 SWP
 SAV
 SUB LEFT
 JLZ SET
 MOV LEFT, NIL
 JMP IN
SET: MOV LEFT, ACC
 SAV
 JMP IN
OUT: SWP
 MOV ACC, DOWN

@7


@8
^: MOV 1000, ACC
 SAV
IN: MOV UP, ACC
 JEZ OUT
 SWP
 SAV
 SUB UP
 JGZ SET
 MOV UP, NIL
 JMP IN
SET: MOV UP, ACC
 SAV
 JMP IN
OUT: SWP
 MOV ACC, DOWN

@9
MOV UP, DOWN

@10
